---
title: Quick Start
description: Quick start guide for Archodex
sidebar:
  order: 2
---

import { Aside, LinkCard, Steps } from '@astrojs/starlight/components';

---

Archodex is a Platform Engineering Observability solution to help teams safely and quickly perform tasks like rotate
secrets or refactor services.

This quick-start guide walks you through installing the Archodex Agent in a GitHub Actions (GHA) Workflow and viewing
the service interfactions it observed during a GHA Workflow Run. Optionally, you can then choose to sign up for an
Archodex.com account to aggregate and view operational data across all your CI/CD workflows and runtime workloads.

## Requirements

To complete this quick-start guide you will need to bring just two things:

- A project with service interactions that can be observed with an Archodex Built-in Ruleset (you can see the full list
  in the [Rulesets](rulesets) section)
- A GitHub Repo with a GitHub Actions (GHA) Workflow that performs service interactions

For example, accessing Secrets from a Hashicorp Vault service is a service interaction with an Archodex Built-in Ruleset
([hashicorp_vault@v1](./rulesets/hashicorp_vault@v1)). Any GHA Workflow that accesses secrets from a Hashicorp Vault can
be observed with this ruleset, including via the
[vault-action](https://developer.hashicorp.com/vault/docs/platform/github-actions) GHA Action.

## Add the Archodex Agent to your Project

The Archodex Agent is easy to add to GitHub Actions (GHA) Workflows. Each GHA Workflow contains Steps that are performed
in sequence. Simply add the [archodex-agent-action](https://github.com/marketplace/actions/archodex-agent-action) Action
as a Step near the beginning of your Workflow, ahead of any service interactions you wish to observe. For example:

```diff lang="yaml" wrap
 name: Example Workflow

 on:
   workflow_dispatch:

 jobs:
   build:
     steps:
+      - name: Archodex Agent
+        uses: archodex/archodex-agent-action@v1
+          with:
+            # The built-in ruleset must be enabled if it is not enabled by default (see the ruleset's docs for details)
+            enable_rulesets:
+              - hashicorp_vault@v1
+
       - name: Checkout Repository
         uses: actions/checkout@v4

       - name: Import Secrets from Vault
         id: import-secrets
         uses: hashicorp/vault-action@v3
         with:
           # ... (Vault access parameters omitted)
           secrets: secret/data/db_creds password
```

## Invoke the Workflow

Commit and push the changes to your GitHub Actions Workflow, then invoke it. If the Workflow succeeded its Logs will
have a section at the end named _Post Archodex Agent_. The logs will contain the resources and events observed from
service interactions. The following shows log output from an example project:

```ansi title="Post Archodex Agent" wrap
 [1mResource captures:[0m
 â”œâ”€ [1mType:[0m [34mGitHub Service[0m
 â”‚  [1mID:[0m [36mhttps://github.com[0m
 â”‚  [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚  [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚  â”‚
 â”‚  â”œâ”€ [1mType:[0m [34mActor[0m
 â”‚  â”‚  [1mID:[0m [36mtxase[0m
 â”‚  â”‚  [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚  â”‚  [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚  â”‚
 â”‚  â””â”€ [1mType:[0m [34mOrganization[0m
 â”‚     [1mID:[0m [36marchodex[0m
 â”‚     [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚     [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚     â”‚
 â”‚     â””â”€ [1mType:[0m [34mGit Repository[0m
 â”‚        [1mID:[0m [36marchodex/archodex-demo-sprockets[0m
 â”‚        [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚        [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚        â”‚
 â”‚        â””â”€ [1mType:[0m [34mGitHub Actions Workflow[0m
 â”‚           [1mID:[0m [36marchodex/archodex-demo-sprockets/.github/workflows/deploy.yml@refs/heads/main[0m
 â”‚           [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚           [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚
 â””â”€ [1mType:[0m [34mHashiCorp Vault Service[0m
    [1mID:[0m [36mvault.demo.com[0m
    [1mFirst seen at:[0m 2025-01-28 23:25:55 UTC
    [1mLast seen at:[0m 2025-01-28 23:25:55 UTC
    â”‚
    â””â”€ [1mType:[0m [34mSecrets Engine Mount[0m
       [1mID:[0m [36msecret[0m
       [1mFirst seen at:[0m 2025-01-28 23:25:55 UTC
       [1mLast seen at:[0m 2025-01-28 23:25:55 UTC
       â”‚
       â””â”€ [1mType:[0m [34mSecret[0m
          [1mID:[0m [36msecret/db_creds[0m
          [1mFirst seen at:[0m 2025-01-28 23:25:55 UTC
          [1mLast seen at:[0m 2025-01-28 23:25:55 UTC

 [1mEvent captures:[0m
 â”œâ”€ [1mPrincipal chain:[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mActor[0m::[36mtxase[0m]
 â”‚  â””â”€ [1mEvent:[0m [33mAssumed[0m
 â”‚     [1mResource:[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mActor[0m::[36mtxase[0m]
 â”‚     [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚     [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚
 â”œâ”€ [1mPrincipal chain:[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mActor[0m::[36mtxase[0m] [33m-(Assumed)->[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mActor[0m::[36mtxase[0m]
 â”‚  â””â”€ [1mEvent:[0m [33mInvoked[0m
 â”‚     [1mResource:[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mOrganization[0m::[36marchodex[0m]::[[34mGit Repository[0m::[36marchodex/archodex-demo-sprockets[0m]::[[34mGitHub Actions Workflow[0m::[36marchodex/archodex-demo-sprockets/.github/workflows/deploy.yml@refs/heads/main[0m]
 â”‚     [1mFirst seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚     [1mLast seen at:[0m 2025-01-28 23:25:36 UTC
 â”‚
 â””â”€ [1mPrincipal chain:[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mActor[0m::[36mtxase[0m] [33m-(Assumed)->[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mActor[0m::[36mtxase[0m] [33m-(Invoked)->[0m [[34mGitHub Service[0m::[36mhttps://github.com[0m]::[[34mOrganization[0m::[36marchodex[0m]::[[34mGit Repository[0m::[36marchodex/archodex-demo-sprockets[0m]::[[34mGitHub Actions Workflow[0m::[36marchodex/archodex-demo-sprockets/.github/workflows/deploy.yml@refs/heads/main[0m]
    â””â”€ [1mEvent:[0m [33mRead[0m
       [1mResource:[0m [[34mHashiCorp Vault Service[0m::[36mvault.example.com[0m]::[[34mSecrets Engine Mount[0m::[36msecret[0m]::[[34mSecret[0m::[36msecret/db_creds[0m]
       [1mFirst seen at:[0m 2025-01-28 23:25:55 UTC
       [1mLast seen at:[0m 2025-01-28 23:25:55 UTC
```

## View Secret Accesses in the Archodex Dashboard (Optional)

Observing and logging service interactions helps us understand what happens when CI/CD workflows are invoked. But we
often want to know how resources like database credentials are shared across CI/CD workflows and runtime workloads. This
is what the Archodex.com service does. It aggregates observed operational information into a graph database of resources
and events. This graph database then powers the Archodex Dashboard to give you answers to your operational concerns in
an intuitive UI.

&lt;TODO: Screenshot of inventory view&gt;

### Create an Archodex.com Account

Creating a free Archodex.com account is easy. Navigate to
{<a href="https://app.archodex.com/signup" target="_blank">https://app.archodex.com/signup</a>}. Create a login with an
email and password (you can also create a passkey in account settings after logging in). Complete the account
verification steps and login to the dashboard.

### Create a Report API Key

Next we will create a Report API Key. This key is given to Archodex Agents to report observed data into the Archodex
service.

<Steps>
  {/* <!-- prettier-ignore --> */}
  1. Navigate to the *Settings* section at the bottom of the left sidebar
  2. Click the "Create New API Key" button
  3. Name the key something descriptive so you can remember its purpose later, e.g. *Quick start key*
  4. Copy the generated key text so we can use it later
      <Aside>
        Report API Keys do not allow reading data or performing administrative actions. While it is good practice to not
        publish Report API Keys externally, it is typically safe to share them internally.
      </Aside>
</Steps>

&lt;TODO: Add screencap gif&gt;

### Add the Report API Key to the Workflow

In the GitHub Actions Workflow file add the Report API Key to the Archodex Agent step:

```diff lang="yaml" wrap
 ...

 jobs:
   build:
     steps:
       - name: Archodex Agent
         uses: archodex/archodex-agent-action@v1
           with:
+            # The API key can also be stored in and referenced from a GitHub Secret
+            report_api_key: <the report api key created above>
             # The built-in ruleset must be enabled if it is not enabled by default (see the ruleset's docs for details)
             enable_rulesets:
               - hashicorp_vault@v1

 ...
```

### View Secret Accesses in the Archodex Dashboard

Now that the Archodex Agent report was sent successfully (you can double check the last _Post Archodex Agent_ log line
to be sure) we can view the secrets that were accessed in the Archodex Dashboard. Do the following:

<Steps>
  {/* <!-- prettier-ignore --> */}
  1. If you do not already have the Archodex Dashboard open, login to it at {<a href="https://app.archodex.com" target="_blank">https://app.archodex.com</a>}
  2. Navigate to the *Secrets* section on the left sidebar
</Steps>

You should see the Secrets your GitHub Actions Workflow accessed and details on the Workflow and GitHub Actors who
accessed them.

&lt;TODO: Screenshot&gt;

<LinkCard
  title="Next Step: Explore More Agent Instrumentation"
  description="Now that you are up and running with Archodex for one GitHub Actions Workflow we recommend exploring how to enable more instrumentation rulesets. You may also wish to add the Archodex Agent to more workload environments such as a Kubernetes Cluster."
  href="./agent"
/>
